# The Huffman Code
## Overview

Huffman encoding is a compression algorithm to encode a string into a string of bits where the most frequent characters are made of the least number of bits and the length of bits increases as the frequency of the characters decreases.

This optimizes the bit size as the most frequent characters will require the least number of memory.

- The most common characters are represented by the smallest number of bits.
- A bit representation cannot be the prefix of another bit representation (example: **01** for E and **01**011100 for X).
- Two messages with different characters but the same ratio of character frequencies will generate identical codes.

## Implementation
Huffman encoding uses a binary tree to encode the unique characters of string. The leaf nodes of the tree represent the unique character and the frequency of the character. The parent nodes represent the sum of the child nodes but does not have a character.

The string "abaaab" will have the following Huffman tree:
```
                        { Node freq=2 }
                            /   \
    { Node char='a' freq=4 }     { Node char='b' freq=2 }
```

## Decoding
Given a bit representation for a string, it can be decoded by using the Huffman tree. The string for a bit representation can be found by traversing the Huffman tree until it reaches a leaf node.

A left traversal represents a 0-bit and right traversal represents a 1-bit. When a leaf node is reached, that is the character represented by the subset of bits used to reach that leaf node.

In the following example the character 'a' is represented by the 0 bit and the character 'b' is represented by the 1 bit.

```
                        { Node freq=2 }
                        (0) /   \ (1)
    { Node char='a' freq=4 }     { Node char='b' freq=2 }
```
The bit pattern "010001" would be translated to "abaaab" using the Huffman tree above.

## Encoding

Given a string, it can be encoded into a bit pattern using a code table. A code table associates the characters in a string with its bit pattern generated by traversing a Huffman tree.

The Huffman tree above would generate a code table like this:
```
'a' => 0
'b' => 1
```
This is the general solution for encoding a string

1. Create a Huffman tree
2. Code the characters into a bit pattern
3. Generate the full string using the bit patterns for the characters

### Creating the Huffman tree

1. Create a node for each character in the message. A node has the character and its frequency in the message.
2. Make a tree for each of these nodes such that the node is the root.
3. Insert the trees in to a priority queue ordered by ascending frequency. The least frequently used character should be the highest priority.
4. Remove from the queue 2 at a time and make them the children of a new node where the frequency is the sum of the 2 node frequencies. Its character field is blank.
5. Insert this new tree back into the queue.
6. Steps 4 and 5 will repeat until there is a single tree. Once there is a single tree in the queue, the algorithm has finished.

### Coding the message

Starting from the root, follow every path to a given leaf node. While traversing, mark a left as 0 and a right as 1. The resulting binary string is the Huffman code for the character.

### Generating the full bit pattern

Use the character patterns to generate the bit pattern for the entire string